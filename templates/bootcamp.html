{% extends "base.html" %}
{% block title %}Bootcamp · {{ BRAND_NAME or 'Ai For Impact' }}{% endblock %}

{% block head %}
<style>
  .pricing-hero .inner { min-height: 300px; }
  .pricing-wrap { display:grid; grid-template-columns: 1.2fr 0.8fr; gap:18px; }
  @media (max-width: 900px) { .pricing-wrap { grid-template-columns: 1fr; } }

  .price-card { text-align:center; }
  .price-amount { font-weight: 900; font-size: clamp(38px, 6vw, 58px); line-height: 1; letter-spacing: .2px; }
  .price-currency { font-size: .6em; opacity: .9; margin-right: 6px; }
  .price-note { color: var(--muted); margin-top: 8px; font-size: 14px; }

  .incl-list { display:grid; gap:10px; margin-top: 10px; }
  .incl-item { display:flex; gap:10px; align-items:flex-start; }
  .incl-bullet { width:22px; height:22px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center;
                 background: rgba(92,169,255,.15); border:1px solid #2a3348; font-weight:800; font-size:12px; }
  .incl-text { margin-top: 2px; }

  .cta-row { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:16px; }
  .btn.secondary { background:transparent; border:1px solid #2a3348; color:var(--ink); }

  .section-card h2 { margin:0 0 6px 0; font-size: 20px; }

  .hr { height:1px; background:#1a1f2e; margin: 18px 0; }

  .faq { display:grid; gap:8px; }
  .faq details { background:var(--card); border:1px solid #1a1f2e; border-radius:10px; padding:12px 14px; }
  .faq summary { cursor:pointer; font-weight:700; }
  .faq p { margin:8px 0 0; color:var(--muted); }

  .timeline .week-title { font-weight:800; }

  .request-card form { display:grid; gap:12px; margin-top:14px; text-align:left; }
  .request-card label { font-weight:700; font-size:14px; display:block; margin-bottom:6px; }
  .request-card input,
  .request-card textarea { width:100%; padding:10px 12px; border-radius:10px; border:1px solid #2a3348; background:#0f1320; color:#e6ecff; font-size:14px; }
  .request-card textarea { min-height:100px; resize:vertical; }
  .request-card button { appearance:none; border:none; border-radius:10px; padding:10px 16px; font-weight:800; cursor:pointer; background:var(--accent); color:#051327; }
  .request-card button:hover { filter:brightness(1.08); }
  .request-card .note { font-size:13px; color:var(--muted); }
  .request-card .alert { border-radius:10px; padding:12px 14px; font-size:14px; }
  .request-card .alert.error { background:#2a1414; border:1px solid #4a2020; color:#f1a5a5; }
  .request-card .alert.success { background:#10241a; border:1px solid #1f4833; color:#8be6a5; }
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Course",
  "name": "{{ bootcamp.title | e }}",
  "description": "{{ bootcamp.subtitle | e }}",
  "provider": {
    "@type": "Organization",
    "name": "{{ BRAND_NAME or 'Ai For Impact' }}",
    "url": "{{ bp('/') }}"
  },
  "hasCourseInstance": {
    "@type": "CourseInstance",
    "courseMode": "Bootcamp cohort",
    "courseWorkload": "4 days intensive",
    "maximumAttendeeCapacity": {{ bootcamp.seat_cap }},
    "url": "{{ bp('/bootcamp') }}"
  },
  "offers": {
    "@type": "Offer",
    "price": "{{ bootcamp.price_eur }}",
    "priceCurrency": "EUR",
    "availability": "https://schema.org/LimitedAvailability",
    "url": "{{ bp('/bootcamp') }}"
  }
}
</script>
{% endblock %}

{% block hero %}
{% set cover_url = (bootcamp.cover_url if bootcamp and bootcamp.cover_url else COURSE_COVER_URL) %}
<section class="cover-hero pricing-hero" aria-label="Bootcamp cover">
  <div class="bg" style="background-image:url('{{ cover_url }}');"></div>
  <div class="overlay"></div>
  <div class="inner">
    <div class="badge-row">
      <span class="badge">Bootcamp</span>
      <span class="badge">{{ bootcamp.seat_cap }} seats per cohort</span>
      <span class="badge">€{{ bootcamp.price_eur }} per learner</span>
    </div>
    <h1>{{ bootcamp.title }}</h1>
    <p class="subhead">{{ bootcamp.subtitle }}</p>
  </div>
</section>
{% endblock %}

{% block content %}
<section class="section-card" style="margin-top:26px;">
  <div class="pricing-wrap">
    <div class="card">
      <h2>What you’ll experience</h2>
      <p class="muted">Theory, practice, and shipping real work in a tight-knit cohort.</p>
      <div class="incl-list">
        {% for feature in bootcamp.features %}
        <div class="incl-item">
          <div class="incl-bullet">{{ loop.index }}</div>
          <div class="incl-text">{{ feature }}</div>
        </div>
        {% endfor %}
      </div>

      <div class="hr"></div>

      <h2>Curriculum modules</h2>
      <p class="muted">Cutting-edge AI capabilities are woven through every module.</p>
      <div class="incl-list">
        {% for module in bootcamp.modules %}
        <div class="incl-item">
          <div class="incl-bullet">{{ loop.index }}</div>
          <div class="incl-text">{{ module }}</div>
        </div>
        {% endfor %}
      </div>

      <div class="hr"></div>

      <h2>Daily flow</h2>
      <ol class="timeline" style="margin-top:8px;">
        {% for day in bootcamp.daily_flow %}
        <li class="timeline-item">
          <div class="dot"></div>
          <div class="content">
            <div class="week-title">{{ day.title }}</div>
            <div class="muted small">{{ day.copy }}</div>
          </div>
        </li>
        {% endfor %}
      </ol>
    </div>

    <aside class="card price-card" aria-label="Bootcamp price summary">
      <div class="price-amount">
        <span class="price-currency" aria-hidden="true">{{ PRICE_SYMBOL }}</span>{{ "%d"|format(bootcamp.price_eur) }}
      </div>
      <div class="price-note">Per learner · {{ bootcamp.currency }}</div>
      <div class="price-note">Cohort capped at {{ bootcamp.seat_cap }} seats.</div>

      <div class="cta-row">
        <a class="btn" href="{{ bp('/register/?course=' ~ bootcamp.code) }}">Register for the Bootcamp</a>
        <a class="btn secondary" href="mailto:connect@aiforimpact.net?subject=Bootcamp%20question">Ask a question</a>
      </div>

      <p class="price-note" style="margin-top:12px;">Group bundles available for teams—contact us for a tailored invoice.</p>

      <div class="card request-card" style="margin-top:18px;">
        <h2 style="margin-top:0;">Request a private cohort</h2>
        <p class="muted" style="margin-top:6px;">Need dates for your team? Share a few details and we'll follow up with a tailored proposal.</p>

        {% if request_success %}
          <div class="alert success" role="status">✅ Thanks! We've received your cohort request. Expect a reply from connect@aiforimpact.net shortly.</div>
        {% elif request_errors and request_errors|length %}
          <div class="alert error" role="alert">
            <strong>Please review:</strong>
            <ul style="margin:8px 0 0 18px; padding:0;">
              {% for err in request_errors %}<li>{{ err }}</li>{% endfor %}
            </ul>
          </div>
        {% endif %}

        <form method="post" action="{{ url_for('bootcamp.request_cohort_quote') }}" novalidate>
          <div>
            <label for="company_name">Company *</label>
            <input id="company_name" name="company_name" type="text" required placeholder="Your company" value="{{ request_form.company_name if request_form and request_form.company_name is defined else '' }}">
          </div>
          <div>
            <label for="contact_name">Primary contact *</label>
            <input id="contact_name" name="contact_name" type="text" required placeholder="Full name" value="{{ request_form.contact_name if request_form and request_form.contact_name is defined else '' }}">
          </div>
          <div>
            <label for="contact_email">Work email *</label>
            <input id="contact_email" name="contact_email" type="email" required placeholder="you@company.com" value="{{ request_form.contact_email if request_form and request_form.contact_email is defined else '' }}">
          </div>
          <div>
            <label for="team_size">Team size</label>
            <input id="team_size" name="team_size" type="text" inputmode="numeric" placeholder="e.g. 12" value="{{ request_form.team_size if request_form and request_form.team_size is defined else '' }}">
          </div>
          <div>
            <div class="grid cols-2">
              <div>
                <label for="timeline_start">Preferred start date</label>
                <input id="timeline_start" name="timeline_start" type="date" value="{{ request_form.timeline_start if request_form and request_form.timeline_start is defined else '' }}">
              </div>
              <div>
                <label for="timeline_end">Preferred end date</label>
                <input id="timeline_end" name="timeline_end" type="date" value="{{ request_form.timeline_end if request_form and request_form.timeline_end is defined else '' }}">
              </div>
            </div>
            <p class="muted" style="margin-top:6px;">Optional — choose the date range that works best for your team.</p>
          </div>
          <div>
            <label for="goals">Training goals</label>
            <textarea id="goals" name="goals" placeholder="What should your team be able to do after the bootcamp?">{{ request_form.goals if request_form and request_form.goals is defined else '' }}</textarea>
          </div>
          <div>
            <label for="notes">Additional notes</label>
            <textarea id="notes" name="notes" placeholder="Purchase order requirements, budget notes, etc.">{{ request_form.notes if request_form and request_form.notes is defined else '' }}</textarea>
          </div>
          <div>
            <button type="submit">Send request</button>
            <div class="note">We reply within one business day from connect@aiforimpact.net.</div>
          </div>
        </form>
      </div>
    </aside>
  </div>
</section>

<section class="section-card" style="margin-top:18px;">
  <div class="banner">
    <h2>Bootcamp FAQs</h2>
    <p class="muted">Everything you need to know before you reserve a seat.</p>
  </div>
  <div class="body faq">
    {% for item in bootcamp.faqs %}
    <details>
      <summary>{{ item.q }}</summary>
      <p>{{ item.a }}</p>
    </details>
    {% endfor %}
  </div>
</section>
{% endblock %}
