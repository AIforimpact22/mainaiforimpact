{% extends "base.html" %}
{% block title %}Update Password â€¢ {{ brand_name }}{% endblock %}

{% block head %}
<style>
  .change-wrapper{max-width:520px;margin:0 auto;}
  form{display:grid;gap:16px;}
  label{font-weight:700;margin-bottom:6px;display:block;}
  input[type="password"]{width:100%;padding:10px 12px;border:1px solid #2a3348;border-radius:10px;background:#0f1320;color:#e6ecff;}
  button{appearance:none;border:1px solid var(--accent);background:var(--accent);color:#051327;padding:10px 16px;border-radius:10px;font-weight:800;cursor:pointer;}
  .alert{padding:12px 14px;border-radius:10px;margin:8px 0 16px;border:1px solid;}
  .alert.success{background:#0f1c14;color:#9fe3b3;border-color:#163b24;}
  .alert.error{background:#2a1414;color:#f1a5a5;border-color:#4a2020;}
</style>
{% endblock %}

{% block content %}
<div class="card change-wrapper">
  <h2>Choose a new password</h2>
  <p class="muted">Signed in as <strong>{{ user_email }}</strong>. Passwords must be at least 8 characters.</p>

  {% with msgs = get_flashed_messages(with_categories=true) %}
    {% if msgs %}
      {% for category, msg in msgs %}
        <div class="alert {{ category }}">{{ msg|safe }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="post" action="{{ url_for('register.change_password') }}" novalidate>
    <div>
      <label for="new_password">New password</label>
      <input id="new_password" name="new_password" type="password" required autocomplete="new-password">
    </div>
    <div>
      <label for="confirm_password">Confirm password</label>
      <input id="confirm_password" name="confirm_password" type="password" required autocomplete="new-password">
    </div>
    <button type="submit">Update password</button>
  </form>
</div>
{% endblock %}
